---
title: "힙(Heap)"
categories:
  - data structure
tags:
  - tag
---
> ## 개요

트리 자료구조의 종류중 하나로 여러 개의 값 중에서
가장 크거나 작은 값을 빠르게 찾기 위해 만든 이진 트리를 의미합니다.

부모의 값은 자식의 값보다 항상 크거나 작아야 합니다.
따라서 루트 노드에 존재하는 값은 데이터들 중 가장 크거나 작은 값이
되기 때문에 탐색에 O(1)의 시간복잡도를 지닙니다.

힙은 완전 이진 트리 형태를 지닙니다.
힙은 동적 배열 기반으로 만들어지기 때문에, 이에 대해 이해해두면 좋습니다.

우선순위 큐를 구현하기에 가장 알맞은 자료구조입니다.
대부분의 우선순위 큐는 힙을 통해 구현됩니다.
> ## 구조

힙은 크거나 작은 값을 정렬하여 저장해야 합니다.
- 루트 노드로 올라갈수록 저장된 값이 커지는 힙을 최대 힙(max heap)이라고 부릅니다.
- 반대로 루트 노드로 내려갈수록 저장된 값이 작아지는 힙을 최소 힙(min heap)이하고 부릅니다.

힙의 함수에 대해 이야기 하겠습니다. 
힙은 목적이 존재하는 트리이기 때문에 노드를 삽입/삭제 함에 있어 힙 클래스 내의 함수를 실행할 수 있습니다.
- Push: 힙에 데이터를 삽입하는 함수입니다. 이 과정에서 데이터 정렬이 실행됩니다.
- Pop: 힙에서 데이터를 삭제하는 함수입니다. 이 과정에서 데이터 정렬이 실행됩니다.
- Top: 힙의 루트 노드를 꺼냅니다. 가장 크거나 작은 값을 반환하게 됩니다.

여기서 말하는 정렬은 버블이나 퀵소트 같은 정렬이 아니라
힙이 가지고있는 성질에 의한 특수한 알고리즘을 의미합니다.

힙의 데이터 삽입과 삭제에 대해 얘기하겠습니다.
힙에 데이터가 들어오거나 나가면 알고리즘을 통해 힙을 재정렬하는 과정을 거쳐야 합니다.
### 삽입
힙의 데이터 삽입은 가장 마지막 위치에 이루어 집니다.
이후 부모 노드와의 비교를 통해 우선순위가 높다면 스왑하는 과정을 거칩니다.
이 과정을 반복합니다, 루트 노드에 당도하거나 부모 노드보다 우선 순위가 낮다면 멈춥니다.

### 삭제
힙의 데이터 삭제는 루트 노드를 삭제하는 것을 의미합니다.
이때 발생한 루트의 빈자리를 마지막 노드를 가져와서 매꿉니다.
이후 루트노드의 자식 노드 2개를 비교하여 우선순위가 더 높은 자식노드를 찾습니다.
찾은 자식노드와의 비교를 통해 자식노드가 우선순위가 높다면 스왑합니다.
이 과정을 반복합니다. 마지막 노드에 당도(자식 노드가 없다)하거나 자식 노드보다 우선순위가 높다면 멈춥니다.

힙의 삽입과 삭제 과정을 보면 항상 마지막 노드를 참조하고 있는 것을 확인할 수 있습니다.

노드 기반(연결 리스트) 비선형 자료구조인 트리에서
마지막 노드를 찾는다는 것은 쉽지 않은 일이 됩니다.

하지만 동적 배열 기반 자료구조에서는 완전 이진트리라 가정할 때
가장 마지막 인덱스가 마지막 노드가 되는 특징이 존재합니다.
> ## 구현

최소 힙을 구현해 보도록 하겠습니다.
### 
