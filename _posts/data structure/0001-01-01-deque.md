---
title: "덱(Deque)"
categories:
  - data structure
tags:
  - tag
---
> ## 개요

Double-Ended Queue의 줄임말로 큐의 파생 자료 구조를 의미합니다.<br>
큐의 양쪽으로 자료의 삽입과 삭제를 수행할 수 있는 자료 구조입니다.
> ## 구조

덱의 구조는 이중(양방향) 연결 리스트와 동일합니다.<br>
따라서 이중 연결 리스트를 알고 있다면 구현할 필요가 없습니다.<br>
<br>
허나 이는 연결 리스트(노드 기반) 자료 구조에 해당되는 이야기 입니다.<br>
순차 리스트(동적 배열 기반) 자료 구조를 포함하면 list와 deque는 확실한 차이가 존재합니다.
> ## 차이점

차이점에 대해 알아보겠습니다.<br>
이를 설명하기 위해서는 아래의 사전 지식이 필요합니다.
### 리스트 자료 구조
리스트 자료 구조에는 노드 기반 자료 구조뿐 아니라<br>
동적 배열 기반 자료 구조가 존재합니다.<br>
<br>
배열 기반 자료 구조가 가지는 한계를 해결하기 위해 나온 것이 노드 기반 자료 구조입니다.<br>
이러한 특징을 가진 자료 구조는 대표적으로 list가 존재합니다.<br>
이를 연결 리스트라 부릅니다.<br>
<br>
배열 기반 자료구조의 단점을 보완하는 다른 방식으로 동적 배열 기반으로 만들어진 자료 구조가 존재합니다.<br>
이에 대표적인 자료 구조로 vector가 존재합니다.<br>
이를 순차 리스트라 부릅니다.<br>
<br>
이 둘을 합쳐 넓은 범위로 리스트 자료 구조라고 부릅니다.<br>
vector와 list는 각각의 특징과 장단점을 가지고 있습니다.<br>
둘의 장단점을 상충하여 만들어진 것이 deque 자료 구조 입니다.<br>
### STL 컨테이너

STL에서는 vector, list, deque를 각각 지원하고 있습니다.<br>
이들의 구현 방식과 활용에서 어떠한 차이가 존재하는지 알아보겠습니다.

---
#### vector
vector는 dynamic array기반 자료구조로 입니다.<br>
단일 연속 메모리 블록입니다. 즉 연속된 메모리 블록을 가집니다.
- 특정 원소에 임의 접근(Random access iterating)이 가능합니다. O(1)
- 원소를 컨테이너의 끝에 삽입/제거 하는 것이 빠릅니다. O(1) -아모타이즈드 복잡도(amortized time complexity)
- 컨테이너의 끝 위치가 아닌 곳에서 삽입/제거 수행시 성능이 deque/list에 비해 엄청 떨어집니다.

---
#### list
list는 double linked list기반 자료구조 입니다.<br>
list는 메모리에 분산된 요소 집합입니다. 즉, 메모리 블록당 하나의 요소만 저장됩니다.
- 특정 원소에 접근하려면 양방향 반복(bidirectional iterator)을 하여야만 합니다.O(n)
- 컨테이너의 어느 위치에서도 삽입/제거하는 것이 빠릅니다. O(1)
- 원소들의 컨테이너 내 순서 이동이 빠릅니다. O(1)
- 원소들간 상호 연결 정보를 위해 추가적인 메모리가 사용됩니다.

---
#### deque
deque는 연결된 메모리 블록 집합으로 각 메모리 블록에 둘 이상의 요소가 저장됩니다.<br>
deque는 각각의 단점 없이 vector와 list의 장점의 균형을 맞추도록 설계되었습니다.
- 특정 원소에 임의 접근(Random access iterating)이 가능합니다. O(1)
- 컨테이너의 끝 뿐 아니라, 앞에서도 삽입/제거 하는 것이 빠릅니다. O(1)
- 컨테이너의 시작 / 끝 위치가 아닌 곳에서 삽입/제거 수행시 성능이 list에 비해 엄청 떨어집니다.

---
### 특징
deque에 대한 몇가지 특징을 더 알아 보겠습니다.<br>
STL에 존재하는 stack, queue 클래스는 deque와 list로 구현이 가능하지만, 기본 클래스는 deque입니다.<br>
<br>
vector의 경우 컨테이너 내부 capacity가 고갈되면 이를 확장하기 위해 전체 메모리 크기만큼 reallocating이 발생합니다.<br>
하지만, deque의 경우 일정 크기를 가지는 chunk 단위로 확장되는 방식을 가지고 있습니다.<br>
<br>
deque는 컨테이너 처음부터 끝까지 연속 메모리 공간이 아니므로,<br>
vector에서 가능했던 원소들간 포인터 연산이 불가능합니다.
