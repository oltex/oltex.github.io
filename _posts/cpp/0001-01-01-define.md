---
title: "매크로 상수(#Define)"
categories:
  - cpp
tags:
  - tag
---

### #define 지시문
```cpp
#define 식별자 토큰열
```

### 설명
#define의 사전적 의미는 정의하다라는 뜻을 가집니다.<br>
매크로 상수라고 불리며 전처리 지시문을 사용하여 구현하며,<br>
컴파일 타임 전, 전처리 과정에서 해당하는 식별자를 만나면 토큰열로 변환시킵니다.


```cpp
#include "pch.h"
#include <iostream>

#define PI 3.14f

int main(int argc, char* argv[]) {
	float fPi = PI;
	std::cout << fPi << std::endl;
	return 0;
}
```
```cpp
3.14
```
위 코드의 PI에 해당하는 부분을 3.14f로 치환해 버립니다.

### 주의
#define을 사용해야 한느 경우가 오면, const, enum, inline을 사용하는 편이 좋습니다.<br>
가급적 전처리기 보다 컴파일러를 더 가까이 하는게 낫습니다.
```cpp
#define ASPECT_RATIO 1.653
```
다음과 같은 define을 사용한다 했을 때<br>
컴파일러에게는 ASPECT_RATIO라는 가호식 이름은 보이지 않습니다.<br>
그결과 컴파일 에러가 발생하게 되면 1.653이라는 숫자만 보이게 됩니다.<br>
행여 ASPECT_RATIO 전처리문을 본인이 작성한 것이 아니라면 대체 1.653이 어디서 온건지 모를 경우가 생겨 디버깅에 꽤 곤란함을 겪습니다.<br>
이 문제의 해결법은 매크로 대신 상수를 쓰는 것입니다.
```cpp
const double AspectRatio = 1.653;
```
이는 언어 차원에서 지원하는 상수 타입의 데이터이기 떄문에 당연히 컴파일러의 눈에도 보이며 기호 테이블에도 들어갑니다.<br>
이를 통해 컴파일에러시의 대처를 좀더 효과적으로 진행할 수 있게됩니다.
